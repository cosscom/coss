{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "files": [
    {
      "content": "\"use client\";\n\nimport { hotkeysCoreFeature, syncDataLoaderFeature } from \"@headless-tree/core\";\nimport { useTree } from \"@headless-tree/react\";\n\nimport { Tree, TreeItem, TreeItemLabel } from \"@/registry/default/ui/tree\";\n\ninterface Item {\n  name: string;\n  href?: string;\n  children?: string[];\n  current?: boolean;\n}\n\nconst items: Record<string, Item> = {\n  advanced: { href: \"#\", name: \"Advanced Usage\" },\n  api: { children: [\"endpoints\", \"models\"], name: \"API Reference\" },\n  endpoints: { href: \"#\", name: \"Endpoints\" },\n  examples: { href: \"#\", name: \"Code Examples\" },\n  faq: { href: \"#\", name: \"FAQ\" },\n  \"getting-started\": {\n    children: [\"installation\", \"setup\"],\n    name: \"Getting Started\",\n  },\n  guides: { children: [\"getting-started\", \"advanced\"], name: \"User Guides\" },\n  installation: { current: true, href: \"#\", name: \"Installation\" },\n  main: { children: [\"guides\", \"api\", \"resources\"], name: \"Documentation\" },\n  models: { href: \"#\", name: \"Data Models\" },\n  resources: { children: [\"examples\", \"faq\"], name: \"Resources\" },\n  setup: { href: \"#\", name: \"Configuration\" },\n};\n\nconst indent = 20;\n\n// Find the path from root to the current item\nfunction findPathToCurrent(\n  items: Record<string, Item>,\n  rootId: string,\n): string[] {\n  const path: string[] = [];\n\n  function findPath(itemId: string): boolean {\n    const item = items[itemId];\n    if (!item) return false;\n\n    // If this is the current item, we found the path\n    if (item.current) {\n      path.unshift(itemId);\n      return true;\n    }\n\n    // If this item has children, search them\n    if (item.children?.length) {\n      for (const childId of item.children) {\n        if (findPath(childId)) {\n          // If we found the path in this branch, add this item to the path\n          path.unshift(itemId);\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  findPath(rootId);\n  return path;\n}\n\n// Get all parent IDs that need to be expanded\nconst pathToCurrent = findPathToCurrent(items, \"main\");\n// Remove the current item from the path if it's a leaf node\nconst expandedItems = pathToCurrent.filter((id) => items[id].children?.length);\n\nexport default function Component() {\n  const tree = useTree<Item>({\n    dataLoader: {\n      getChildren: (itemId) => items[itemId].children ?? [],\n      getItem: (itemId) => items[itemId],\n    },\n    features: [syncDataLoaderFeature, hotkeysCoreFeature],\n    getItemName: (item) => item.getItemData().name,\n    indent,\n    initialState: {\n      expandedItems,\n    },\n    isItemFolder: (item) => (item.getItemData()?.children?.length ?? 0) > 0,\n    rootItemId: \"main\",\n  });\n\n  return (\n    <div className=\"flex h-full flex-col gap-2 *:first:grow\">\n      <Tree indent={indent} tree={tree}>\n        {tree.getItems().map((item) => {\n          return (\n            <TreeItem\n              asChild={!!item.getItemData()?.href}\n              item={item}\n              key={item.getId()}\n            >\n              {item.getItemData()?.href ? (\n                <a\n                  data-current={item.getItemData().current}\n                  href={item.getItemData().href}\n                >\n                  <TreeItemLabel className=\"in-data-[current=true]:bg-accent in-data-[current=true]:text-accent-foreground\" />\n                </a>\n              ) : (\n                <TreeItemLabel />\n              )}\n            </TreeItem>\n          );\n        })}\n      </Tree>\n\n      <p\n        aria-live=\"polite\"\n        className=\"mt-2 text-muted-foreground text-xs\"\n        role=\"region\"\n      >\n        Menu navigation tree âˆ™{\" \"}\n        <a\n          className=\"underline hover:text-foreground\"\n          href=\"https://headless-tree.lukasbach.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          API\n        </a>\n      </p>\n    </div>\n  );\n}\n",
      "path": "registry/default/components/comp-576.tsx",
      "type": "registry:component"
    }
  ],
  "meta": {
    "tags": ["tree", "menu"]
  },
  "name": "comp-576",
  "registryDependencies": ["https://coss.com/origin/r/tree.json"],
  "type": "registry:component"
}
