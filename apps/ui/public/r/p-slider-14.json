{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "p-slider-14",
  "type": "registry:block",
  "description": "Slider with input and reset button",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "@coss/button",
    "@coss/input",
    "@coss/label",
    "@coss/slider",
    "@coss/tooltip"
  ],
  "files": [
    {
      "path": "registry/default/particles/p-slider-14.tsx",
      "content": "\"use client\";\n\nimport { RotateCcwIcon } from \"lucide-react\";\nimport type { ChangeEvent } from \"react\";\nimport { useCallback, useState } from \"react\";\n\nimport { cn } from \"@/registry/default/lib/utils\";\nimport { Button } from \"@/registry/default/ui/button\";\nimport { Input } from \"@/registry/default/ui/input\";\nimport { Label } from \"@/registry/default/ui/label\";\nimport { Slider } from \"@/registry/default/ui/slider\";\nimport {\n  Tooltip,\n  TooltipPopup,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/registry/default/ui/tooltip\";\n\nconst minValue = 0;\nconst maxValue = 2;\nconst initialValue = 1.25;\nconst defaultValue = 1;\n\nexport default function Particle() {\n  const [sliderValue, setSliderValue] = useState<number | readonly number[]>(\n    initialValue,\n  );\n  const [inputValue, setInputValue] = useState(initialValue.toString());\n\n  const showReset =\n    (Array.isArray(sliderValue) ? sliderValue[0] : sliderValue) !==\n    defaultValue;\n\n  const validateAndUpdateValue = useCallback(\n    (rawValue: string) => {\n      if (rawValue === \"\" || rawValue === \"-\") {\n        setInputValue(\"0\");\n        setSliderValue(0);\n        return;\n      }\n\n      const numValue = Number.parseFloat(rawValue);\n\n      if (Number.isNaN(numValue)) {\n        const currentValue = Array.isArray(sliderValue)\n          ? sliderValue[0]\n          : sliderValue;\n        setInputValue(currentValue.toString());\n        return;\n      }\n\n      const clampedValue = Math.min(maxValue, Math.max(minValue, numValue));\n      setSliderValue(clampedValue);\n      setInputValue(clampedValue.toString());\n    },\n    [sliderValue],\n  );\n\n  const handleInputChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    if (newValue === \"\" || /^-?\\d*\\.?\\d*$/.test(newValue)) {\n      setInputValue(newValue);\n    }\n  }, []);\n\n  const handleSliderChange = useCallback(\n    (newValue: number | readonly number[]) => {\n      setSliderValue(newValue);\n      const val = Array.isArray(newValue) ? newValue[0] : newValue;\n      setInputValue(val.toString());\n    },\n    [],\n  );\n\n  const resetToDefault = useCallback(() => {\n    setSliderValue(defaultValue);\n    setInputValue(defaultValue.toString());\n  }, []);\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-between gap-2\">\n        <Label>Temperature</Label>\n        <div className=\"flex items-center gap-1\">\n          <TooltipProvider>\n            <Tooltip>\n              <TooltipTrigger\n                render={\n                  <Button\n                    aria-label=\"Reset\"\n                    className={cn(\n                      \"size-7 transition-opacity\",\n                      showReset ? \"opacity-100\" : \"opacity-0\",\n                    )}\n                    onClick={resetToDefault}\n                    size=\"icon\"\n                    variant=\"ghost\"\n                  />\n                }\n              >\n                <RotateCcwIcon aria-hidden=\"true\" />\n              </TooltipTrigger>\n              <TooltipPopup className=\"px-2 py-1 text-xs\">\n                Reset to default\n              </TooltipPopup>\n            </Tooltip>\n          </TooltipProvider>\n          <Input\n            aria-label=\"Enter value\"\n            className=\"h-7 w-12 px-2 py-0\"\n            inputMode=\"decimal\"\n            onBlur={() => validateAndUpdateValue(inputValue)}\n            onChange={handleInputChange}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") {\n                validateAndUpdateValue(inputValue);\n              }\n            }}\n            type=\"text\"\n            value={inputValue}\n          />\n        </div>\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <Slider\n          aria-label=\"Temperature\"\n          className=\"grow\"\n          max={maxValue}\n          min={minValue}\n          onValueChange={handleSliderChange}\n          step={0.01}\n          value={sliderValue}\n        />\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "className": "**:data-[slot=preview]:w-full **:data-[slot=preview]:max-w-64"
  },
  "categories": [
    "slider",
    "input",
    "tooltip"
  ]
}