{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "p-calendar-6",
  "type": "registry:block",
  "description": "Calendar with Combobox dropdown for month/year",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "@coss/calendar",
    "@coss/combobox",
    "@coss/button"
  ],
  "files": [
    {
      "path": "registry/default/particles/p-calendar-6.tsx",
      "content": "\"use client\";\nimport { ChevronsUpDownIcon } from \"lucide-react\";\nimport * as React from \"react\";\nimport type { DropdownProps } from \"react-day-picker\";\n\nimport { Button } from \"@/registry/default/ui/button\";\nimport { Calendar } from \"@/registry/default/ui/calendar\";\nimport {\n  Combobox,\n  ComboboxItem,\n  ComboboxList,\n  ComboboxPopup,\n  ComboboxTrigger,\n  ComboboxValue,\n} from \"@/registry/default/ui/combobox\";\n\ninterface DropdownItem {\n  disabled?: boolean;\n  label: string;\n  value: string;\n}\n\nfunction CalendarDropdown(props: DropdownProps) {\n  const { options, value, onChange, \"aria-label\": ariaLabel } = props;\n\n  const items: DropdownItem[] =\n    options?.map((option) => ({\n      disabled: option.disabled,\n      label: option.label,\n      value: option.value.toString(),\n    })) ?? [];\n\n  const selectedItem = items.find((item) => item.value === value?.toString());\n\n  const handleValueChange = (newValue: DropdownItem | null) => {\n    if (onChange && newValue) {\n      const syntheticEvent = {\n        target: { value: newValue.value },\n      } as React.ChangeEvent<HTMLSelectElement>;\n      onChange(syntheticEvent);\n    }\n  };\n\n  return (\n    <Combobox\n      aria-label={ariaLabel}\n      items={items}\n      onValueChange={handleValueChange}\n      value={selectedItem}\n    >\n      <ComboboxTrigger\n        render={\n          <Button\n            className=\"min-w-none justify-between font-normal\"\n            variant=\"outline\"\n          />\n        }\n      >\n        <ComboboxValue />\n        <ChevronsUpDownIcon className=\"-me-1! size-3.5\" />\n      </ComboboxTrigger>\n      <ComboboxPopup aria-label={ariaLabel}>\n        <ComboboxList>\n          {(item: DropdownItem) => (\n            <ComboboxItem\n              disabled={item.disabled}\n              key={item.value}\n              value={item}\n            >\n              {item.label}\n            </ComboboxItem>\n          )}\n        </ComboboxList>\n      </ComboboxPopup>\n    </Combobox>\n  );\n}\n\nexport default function Particle() {\n  const [date, setDate] = React.useState<Date | undefined>(new Date());\n  return (\n    <Calendar\n      captionLayout=\"dropdown\"\n      components={{ Dropdown: CalendarDropdown }}\n      endMonth={new Date(2030, 11)}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n      }}\n      mode=\"single\"\n      onSelect={setDate}\n      selected={date}\n      startMonth={new Date(2020, 0)}\n    />\n  );\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "calendar"
  ]
}