{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar",
  "type": "registry:ui",
  "dependencies": [
    "react-day-picker",
    "lucide-react"
  ],
  "registryDependencies": [
    "@coss/button"
  ],
  "files": [
    {
      "path": "registry/default/ui/calendar.tsx",
      "content": "\"use client\";\n\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\";\nimport * as React from \"react\";\nimport {\n  type DayButtonProps,\n  DayPicker,\n  getDefaultClassNames,\n} from \"react-day-picker\";\n\nimport { cn } from \"@/registry/default/lib/utils\";\nimport { buttonVariants } from \"@/registry/default/ui/button\";\n\ntype ButtonVariant =\n  | \"default\"\n  | \"destructive\"\n  | \"destructive-outline\"\n  | \"ghost\"\n  | \"link\"\n  | \"outline\"\n  | \"secondary\";\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components: userComponents,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: ButtonVariant;\n}) {\n  const rdpDefaultClassNames = getDefaultClassNames();\n\n  const defaultClassNames = {\n    button_next: cn(\n      buttonVariants({ variant: buttonVariant }),\n      \"size-(--cell-size) p-0 aria-disabled:opacity-50 select-none\",\n      rdpDefaultClassNames.button_next,\n    ),\n    button_previous: cn(\n      buttonVariants({ variant: buttonVariant }),\n      \"size-(--cell-size) p-0 aria-disabled:opacity-50 select-none\",\n      rdpDefaultClassNames.button_previous,\n    ),\n    caption_label: cn(\n      \"select-none font-medium\",\n      captionLayout === \"label\"\n        ? \"text-sm\"\n        : \"flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5 [&>svg]:text-muted-foreground\",\n      rdpDefaultClassNames.caption_label,\n    ),\n    day: cn(\n      \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-lg\",\n      props.showWeekNumber\n        ? \"[&:nth-child(2)[data-selected=true]_button]:rounded-l-lg\"\n        : \"[&:first-child[data-selected=true]_button]:rounded-l-lg\",\n      rdpDefaultClassNames.day,\n    ),\n    disabled: cn(\n      \"text-muted-foreground opacity-50\",\n      rdpDefaultClassNames.disabled,\n    ),\n    dropdown: cn(\n      \"absolute inset-0 bg-popover opacity-0\",\n      rdpDefaultClassNames.dropdown,\n    ),\n    dropdown_root: cn(\n      \"relative rounded-md border border-input shadow-xs has-focus:border-ring has-focus:ring-[3px] has-focus:ring-ring/50\",\n      rdpDefaultClassNames.dropdown_root,\n    ),\n    dropdowns: cn(\n      \"flex h-(--cell-size) w-full items-center justify-center gap-1.5 text-sm font-medium\",\n      rdpDefaultClassNames.dropdowns,\n    ),\n    hidden: cn(\"invisible\", rdpDefaultClassNames.hidden),\n    month: cn(\"flex w-full flex-col gap-4\", rdpDefaultClassNames.month),\n    month_caption: cn(\n      \"flex h-(--cell-size) w-full items-center justify-center px-(--cell-size)\",\n      rdpDefaultClassNames.month_caption,\n    ),\n    months: cn(\n      \"relative flex flex-col gap-4 md:flex-row\",\n      rdpDefaultClassNames.months,\n    ),\n    nav: cn(\n      \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n      rdpDefaultClassNames.nav,\n    ),\n    outside: cn(\n      \"text-muted-foreground aria-selected:text-muted-foreground\",\n      rdpDefaultClassNames.outside,\n    ),\n    range_end: cn(\"rounded-r-lg bg-accent\", rdpDefaultClassNames.range_end),\n    range_middle: cn(\"rounded-none\", rdpDefaultClassNames.range_middle),\n    range_start: cn(\"rounded-l-lg bg-accent\", rdpDefaultClassNames.range_start),\n    table: \"w-full border-collapse\",\n    today: cn(\n      \"rounded-lg bg-accent text-accent-foreground data-[selected=true]:rounded-none\",\n      rdpDefaultClassNames.today,\n    ),\n    week: cn(\"mt-2 flex w-full\", rdpDefaultClassNames.week),\n    week_number: cn(\n      \"select-none text-[0.8rem] text-muted-foreground\",\n      rdpDefaultClassNames.week_number,\n    ),\n    week_number_header: cn(\n      \"w-(--cell-size) select-none\",\n      rdpDefaultClassNames.week_number_header,\n    ),\n    weekday: cn(\n      \"flex-1 select-none rounded-lg p-0 text-[0.8rem] font-normal text-muted-foreground\",\n      rdpDefaultClassNames.weekday,\n    ),\n    weekdays: cn(\"flex\", rdpDefaultClassNames.weekdays),\n  };\n\n  const mergedClassNames = Object.keys(defaultClassNames).reduce(\n    (acc, key) => {\n      const userClass = classNames?.[key as keyof typeof classNames];\n      const baseClass =\n        defaultClassNames[key as keyof typeof defaultClassNames];\n\n      acc[key as keyof typeof defaultClassNames] = userClass\n        ? cn(baseClass, userClass)\n        : baseClass;\n\n      return acc;\n    },\n    { ...defaultClassNames } as typeof defaultClassNames,\n  );\n\n  const defaultComponents = {\n    Chevron: ({\n      className: chevronClassName,\n      orientation,\n      ...chevronProps\n    }: {\n      className?: string;\n      size?: number;\n      disabled?: boolean;\n      orientation?: \"left\" | \"right\" | \"up\" | \"down\";\n    }) => {\n      if (orientation === \"left\") {\n        return (\n          <ChevronLeftIcon\n            className={cn(\"size-4\", chevronClassName)}\n            {...chevronProps}\n          />\n        );\n      }\n      if (orientation === \"right\") {\n        return (\n          <ChevronRightIcon\n            className={cn(\"size-4\", chevronClassName)}\n            {...chevronProps}\n          />\n        );\n      }\n      return (\n        <ChevronDownIcon\n          className={cn(\"size-4\", chevronClassName)}\n          {...chevronProps}\n        />\n      );\n    },\n    DayButton: CalendarDayButton,\n    WeekNumber: ({\n      children,\n      ...weekNumberProps\n    }: {\n      children?: React.ReactNode;\n    } & React.HTMLAttributes<HTMLTableCellElement>) => {\n      return (\n        <td {...weekNumberProps}>\n          <div className=\"flex size-(--cell-size) items-center justify-center text-center\">\n            {children}\n          </div>\n        </td>\n      );\n    },\n  };\n\n  const mergedComponents = {\n    ...defaultComponents,\n    ...userComponents,\n  };\n\n  return (\n    <DayPicker\n      captionLayout={captionLayout}\n      className={cn(\n        \"group/calendar w-fit bg-background p-3 [--cell-size:--spacing(9)] sm:[--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className,\n      )}\n      classNames={mergedClassNames}\n      components={mergedComponents}\n      data-slot=\"calendar\"\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      mode=\"single\"\n      showOutsideDays={showOutsideDays}\n      {...props}\n    />\n  );\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: DayButtonProps) {\n  const rdpDefaultClassNames = getDefaultClassNames();\n\n  const ref = React.useRef<HTMLButtonElement>(null);\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus();\n  }, [modifiers.focused]);\n\n  return (\n    <button\n      className={cn(\n        buttonVariants({ variant: \"ghost\" }),\n        \"flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 p-0 font-normal leading-none\",\n        \"group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-[3px] group-data-[focused=true]/day:ring-ring/50\",\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground\",\n        \"data-[range-start=true]:rounded-r-none data-[range-start=true]:rounded-l-lg data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground\",\n        \"data-[range-end=true]:rounded-r-lg data-[range-end=true]:rounded-l-none data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground\",\n        \"data-[range-middle=true]:rounded-none data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground\",\n        \"dark:hover:text-accent-foreground [&>span]:text-xs [&>span]:opacity-70\",\n        rdpDefaultClassNames.day,\n        className,\n      )}\n      data-day={day.date.toLocaleDateString()}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      data-range-start={modifiers.range_start}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      ref={ref}\n      type=\"button\"\n      {...props}\n    />\n  );\n}\n\nexport { Calendar, CalendarDayButton };\n",
      "type": "registry:ui"
    }
  ]
}