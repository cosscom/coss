{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "p-form-3",
  "type": "registry:block",
  "description": "Stripe checkout form with multiple payment methods",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "@coss/badge",
    "@coss/button",
    "@coss/card",
    "@coss/field",
    "@coss/form",
    "@coss/input",
    "@coss/label",
    "@coss/select",
    "@coss/separator",
    "@coss/spinner",
    "@coss/tabs"
  ],
  "files": [
    {
      "path": "registry/default/particles/p-form-3.tsx",
      "content": "\"use client\";\n\nimport {\n  BanknoteIcon,\n  CreditCardIcon,\n  LockIcon,\n  ShieldCheckIcon,\n  SmartphoneIcon,\n} from \"lucide-react\";\nimport { type FormEvent, useState } from \"react\";\n\nimport { Badge } from \"@/registry/default/ui/badge\";\nimport { Button } from \"@/registry/default/ui/button\";\nimport {\n  Card,\n  CardDescription,\n  CardHeader,\n  CardPanel,\n  CardTitle,\n} from \"@/registry/default/ui/card\";\nimport { Field, FieldError, FieldLabel } from \"@/registry/default/ui/field\";\nimport { Form } from \"@/registry/default/ui/form\";\nimport { Input } from \"@/registry/default/ui/input\";\nimport { Label } from \"@/registry/default/ui/label\";\nimport {\n  Select,\n  SelectItem,\n  SelectPopup,\n  SelectTrigger,\n  SelectValue,\n} from \"@/registry/default/ui/select\";\nimport { Separator } from \"@/registry/default/ui/separator\";\nimport { Spinner } from \"@/registry/default/ui/spinner\";\nimport { Tabs, TabsList, TabsPanel, TabsTab } from \"@/registry/default/ui/tabs\";\n\nconst countryOptions = [\n  { label: \"United States\", value: \"us\" },\n  { label: \"Canada\", value: \"ca\" },\n  { label: \"United Kingdom\", value: \"uk\" },\n  { label: \"Germany\", value: \"de\" },\n  { label: \"France\", value: \"fr\" },\n  { label: \"Australia\", value: \"au\" },\n];\n\nconst sepaCountryOptions = [\n  { label: \"Germany\", value: \"de\" },\n  { label: \"France\", value: \"fr\" },\n  { label: \"Netherlands\", value: \"nl\" },\n  { label: \"Belgium\", value: \"be\" },\n  { label: \"Austria\", value: \"at\" },\n  { label: \"Spain\", value: \"es\" },\n  { label: \"Italy\", value: \"it\" },\n];\n\nconst orderItems = [\n  { id: \"pro-plan\", name: \"Pro Plan (Annual)\", price: 199.0, quantity: 1 },\n  { id: \"seats\", name: \"Additional Seats (5)\", price: 49.0, quantity: 1 },\n];\n\nfunction ApplePayIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      className={className}\n      fill=\"currentColor\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M17.72 8.2c-.1.08-1.86 1.07-1.86 3.28 0 2.56 2.25 3.46 2.31 3.48-.01.06-.36 1.24-1.18 2.45-.74 1.07-1.51 2.13-2.69 2.13s-1.48-.68-2.83-.68c-1.32 0-1.79.7-2.87.7s-1.81-.98-2.67-2.18C4.81 15.82 4 13.22 4 10.76c0-3.94 2.56-6.03 5.08-6.03 1.34 0 2.45.88 3.29.88.8 0 2.05-.93 3.59-.93.58 0 2.66.05 4.03 2.01l-.27.51zM14.18 3.18c.54-.65.93-1.55.93-2.45 0-.13-.01-.25-.04-.35-.89.03-1.94.59-2.58 1.33-.5.57-.97 1.47-.97 2.39 0 .14.02.28.04.32.06.01.17.03.27.03.8 0 1.79-.53 2.35-1.27z\" />\n    </svg>\n  );\n}\n\nfunction GooglePayIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      className={className}\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z\"\n        fill=\"#4285F4\"\n      />\n    </svg>\n  );\n}\n\nexport default function Particle() {\n  const [loading, setLoading] = useState(false);\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [cvc, setCvc] = useState(\"\");\n  const [iban, setIban] = useState(\"\");\n\n  const subtotal = orderItems.reduce(\n    (sum, item) => sum + item.price * item.quantity,\n    0,\n  );\n  const tax = subtotal * 0.1;\n  const total = subtotal + tax;\n\n  const formatCardNumber = (value: string) => {\n    const v = value.replace(/\\s+/g, \"\").replace(/[^0-9]/gi, \"\");\n    const matches = v.match(/\\d{4,16}/g);\n    const match = matches?.[0] || \"\";\n    const parts = [];\n    for (let i = 0, len = match.length; i < len; i += 4) {\n      parts.push(match.substring(i, i + 4));\n    }\n    if (parts.length) {\n      return parts.join(\" \");\n    }\n    return value;\n  };\n\n  const formatExpiry = (value: string) => {\n    const v = value.replace(/\\s+/g, \"\").replace(/[^0-9]/gi, \"\");\n    if (v.length >= 2) {\n      return `${v.substring(0, 2)}/${v.substring(2, 4)}`;\n    }\n    return v;\n  };\n\n  const formatIban = (value: string) => {\n    const v = value.replace(/\\s+/g, \"\").toUpperCase();\n    const parts = [];\n    for (let i = 0, len = v.length; i < len; i += 4) {\n      parts.push(v.substring(i, i + 4));\n    }\n    return parts.join(\" \");\n  };\n\n  const onSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setLoading(true);\n    await new Promise((r) => setTimeout(r, 2000));\n    setLoading(false);\n    alert(\"Payment successful! Thank you for your purchase.\");\n  };\n\n  const handleWalletPayment = async (wallet: string) => {\n    setLoading(true);\n    await new Promise((r) => setTimeout(r, 2000));\n    setLoading(false);\n    alert(`${wallet} payment successful! Thank you for your purchase.`);\n  };\n\n  return (\n    <div className=\"grid w-full max-w-4xl gap-8 lg:grid-cols-[1fr_380px]\">\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <CreditCardIcon aria-hidden=\"true\" className=\"size-5\" />\n            <CardTitle>Payment Details</CardTitle>\n          </div>\n          <CardDescription>\n            Choose your preferred payment method\n          </CardDescription>\n        </CardHeader>\n        <CardPanel>\n          <Tabs defaultValue=\"card\">\n            <TabsList className=\"w-full\">\n              <TabsTab className=\"flex-1\" value=\"card\">\n                <CreditCardIcon aria-hidden=\"true\" className=\"size-4\" />\n                Card\n              </TabsTab>\n              <TabsTab className=\"flex-1\" value=\"wallet\">\n                <SmartphoneIcon aria-hidden=\"true\" className=\"size-4\" />\n                Wallet\n              </TabsTab>\n              <TabsTab className=\"flex-1\" value=\"sepa\">\n                <BanknoteIcon aria-hidden=\"true\" className=\"size-4\" />\n                SEPA\n              </TabsTab>\n            </TabsList>\n\n            <TabsPanel className=\"mt-6\" value=\"card\">\n              <Form onSubmit={onSubmit}>\n                <div className=\"flex flex-col gap-6\">\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      Contact Information\n                    </Label>\n                    <div className=\"grid gap-4 sm:grid-cols-2\">\n                      <Field name=\"firstName\">\n                        <FieldLabel>First Name</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          placeholder=\"John\"\n                          required\n                          type=\"text\"\n                        />\n                        <FieldError>Please enter your first name.</FieldError>\n                      </Field>\n                      <Field name=\"lastName\">\n                        <FieldLabel>Last Name</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          placeholder=\"Doe\"\n                          required\n                          type=\"text\"\n                        />\n                        <FieldError>Please enter your last name.</FieldError>\n                      </Field>\n                    </div>\n                    <Field name=\"email\">\n                      <FieldLabel>Email</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        placeholder=\"john@example.com\"\n                        required\n                        type=\"email\"\n                      />\n                      <FieldError>Please enter a valid email.</FieldError>\n                    </Field>\n                  </div>\n\n                  <Separator />\n\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      Card Information\n                    </Label>\n                    <Field name=\"cardNumber\">\n                      <FieldLabel>Card Number</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        maxLength={19}\n                        onChange={(e) =>\n                          setCardNumber(formatCardNumber(e.target.value))\n                        }\n                        placeholder=\"4242 4242 4242 4242\"\n                        required\n                        type=\"text\"\n                        value={cardNumber}\n                      />\n                      <FieldError>Please enter a valid card number.</FieldError>\n                    </Field>\n                    <div className=\"grid gap-4 sm:grid-cols-2\">\n                      <Field name=\"expiry\">\n                        <FieldLabel>Expiration Date</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          maxLength={5}\n                          onChange={(e) =>\n                            setExpiry(formatExpiry(e.target.value))\n                          }\n                          placeholder=\"MM/YY\"\n                          required\n                          type=\"text\"\n                          value={expiry}\n                        />\n                        <FieldError>\n                          Please enter a valid expiry date.\n                        </FieldError>\n                      </Field>\n                      <Field name=\"cvc\">\n                        <FieldLabel>CVC</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          maxLength={4}\n                          onChange={(e) =>\n                            setCvc(e.target.value.replace(/[^0-9]/g, \"\"))\n                          }\n                          placeholder=\"123\"\n                          required\n                          type=\"text\"\n                          value={cvc}\n                        />\n                        <FieldError>Please enter a valid CVC.</FieldError>\n                      </Field>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      Billing Address\n                    </Label>\n                    <Field name=\"country\">\n                      <FieldLabel>Country</FieldLabel>\n                      <Select defaultValue=\"us\" items={countryOptions}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectPopup>\n                          {countryOptions.map(({ label, value }) => (\n                            <SelectItem key={value} value={value}>\n                              {label}\n                            </SelectItem>\n                          ))}\n                        </SelectPopup>\n                      </Select>\n                    </Field>\n                    <Field name=\"address\">\n                      <FieldLabel>Street Address</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        placeholder=\"123 Main St\"\n                        required\n                        type=\"text\"\n                      />\n                      <FieldError>Please enter your address.</FieldError>\n                    </Field>\n                    <div className=\"grid gap-4 sm:grid-cols-3\">\n                      <Field name=\"city\">\n                        <FieldLabel>City</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          placeholder=\"San Francisco\"\n                          required\n                          type=\"text\"\n                        />\n                        <FieldError>Please enter your city.</FieldError>\n                      </Field>\n                      <Field name=\"state\">\n                        <FieldLabel>State</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          placeholder=\"CA\"\n                          required\n                          type=\"text\"\n                        />\n                        <FieldError>Please enter your state.</FieldError>\n                      </Field>\n                      <Field name=\"zip\">\n                        <FieldLabel>ZIP Code</FieldLabel>\n                        <Input\n                          disabled={loading}\n                          placeholder=\"94102\"\n                          required\n                          type=\"text\"\n                        />\n                        <FieldError>Please enter your ZIP code.</FieldError>\n                      </Field>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-6 flex flex-col gap-4\">\n                  <Button\n                    className=\"w-full\"\n                    disabled={loading}\n                    size=\"lg\"\n                    type=\"submit\"\n                  >\n                    {loading ? (\n                      <>\n                        <Spinner aria-hidden=\"true\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <LockIcon aria-hidden=\"true\" />\n                        Pay ${total.toFixed(2)}\n                      </>\n                    )}\n                  </Button>\n                  <div className=\"flex items-center justify-center gap-2 text-muted-foreground text-xs\">\n                    <ShieldCheckIcon aria-hidden=\"true\" className=\"size-4\" />\n                    <span>\n                      Secured by Stripe. Your payment info is encrypted.\n                    </span>\n                  </div>\n                </div>\n              </Form>\n            </TabsPanel>\n\n            <TabsPanel className=\"mt-6\" value=\"wallet\">\n              <div className=\"flex flex-col gap-6\">\n                <div className=\"flex flex-col gap-4\">\n                  <Label className=\"font-semibold text-base\">\n                    Express Checkout\n                  </Label>\n                  <p className=\"text-muted-foreground text-sm\">\n                    Pay quickly and securely with your preferred digital wallet.\n                  </p>\n                </div>\n\n                <div className=\"flex flex-col gap-3\">\n                  <Button\n                    className=\"w-full bg-black text-white hover:bg-black/90 dark:bg-white dark:text-black dark:hover:bg-white/90\"\n                    disabled={loading}\n                    onClick={() => handleWalletPayment(\"Apple Pay\")}\n                    size=\"lg\"\n                    type=\"button\"\n                  >\n                    {loading ? (\n                      <>\n                        <Spinner aria-hidden=\"true\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <ApplePayIcon className=\"size-5\" />\n                        Pay with Apple Pay\n                      </>\n                    )}\n                  </Button>\n\n                  <Button\n                    className=\"w-full\"\n                    disabled={loading}\n                    onClick={() => handleWalletPayment(\"Google Pay\")}\n                    size=\"lg\"\n                    type=\"button\"\n                    variant=\"outline\"\n                  >\n                    {loading ? (\n                      <>\n                        <Spinner aria-hidden=\"true\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <GooglePayIcon className=\"size-5\" />\n                        Pay with Google Pay\n                      </>\n                    )}\n                  </Button>\n                </div>\n\n                <Separator />\n\n                <div className=\"rounded-lg border border-dashed p-4\">\n                  <div className=\"flex flex-col items-center gap-2 text-center\">\n                    <SmartphoneIcon\n                      aria-hidden=\"true\"\n                      className=\"size-8 text-muted-foreground\"\n                    />\n                    <p className=\"font-medium text-sm\">Digital Wallet Payment</p>\n                    <p className=\"text-muted-foreground text-xs\">\n                      When you click a wallet button, you&apos;ll be prompted to\n                      authenticate with your device (Face ID, Touch ID, or\n                      fingerprint).\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-center gap-2 text-muted-foreground text-xs\">\n                  <ShieldCheckIcon aria-hidden=\"true\" className=\"size-4\" />\n                  <span>\n                    Secured by Stripe. Your payment info is encrypted.\n                  </span>\n                </div>\n              </div>\n            </TabsPanel>\n\n            <TabsPanel className=\"mt-6\" value=\"sepa\">\n              <Form onSubmit={onSubmit}>\n                <div className=\"flex flex-col gap-6\">\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      SEPA Direct Debit\n                    </Label>\n                    <p className=\"text-muted-foreground text-sm\">\n                      Pay directly from your European bank account. Available\n                      for customers in the Single Euro Payments Area.\n                    </p>\n                  </div>\n\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      Account Holder\n                    </Label>\n                    <Field name=\"accountHolder\">\n                      <FieldLabel>Full Name</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        placeholder=\"Max Mustermann\"\n                        required\n                        type=\"text\"\n                      />\n                      <FieldError>\n                        Please enter the account holder name.\n                      </FieldError>\n                    </Field>\n                    <Field name=\"sepaEmail\">\n                      <FieldLabel>Email</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        placeholder=\"max@example.de\"\n                        required\n                        type=\"email\"\n                      />\n                      <FieldError>Please enter a valid email.</FieldError>\n                    </Field>\n                  </div>\n\n                  <Separator />\n\n                  <div className=\"flex flex-col gap-4\">\n                    <Label className=\"font-semibold text-base\">\n                      Bank Account Details\n                    </Label>\n                    <Field name=\"iban\">\n                      <FieldLabel>IBAN</FieldLabel>\n                      <Input\n                        disabled={loading}\n                        maxLength={34}\n                        onChange={(e) => setIban(formatIban(e.target.value))}\n                        placeholder=\"DE89 3704 0044 0532 0130 00\"\n                        required\n                        type=\"text\"\n                        value={iban}\n                      />\n                      <FieldError>Please enter a valid IBAN.</FieldError>\n                    </Field>\n                    <Field name=\"sepaCountry\">\n                      <FieldLabel>Country</FieldLabel>\n                      <Select defaultValue=\"de\" items={sepaCountryOptions}>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectPopup>\n                          {sepaCountryOptions.map(({ label, value }) => (\n                            <SelectItem key={value} value={value}>\n                              {label}\n                            </SelectItem>\n                          ))}\n                        </SelectPopup>\n                      </Select>\n                    </Field>\n                  </div>\n\n                  <div className=\"rounded-lg border border-dashed bg-muted/50 p-4\">\n                    <p className=\"text-muted-foreground text-xs leading-relaxed\">\n                      By providing your IBAN and confirming this payment, you\n                      authorize (A) this company and Stripe, our payment service\n                      provider, to send instructions to your bank to debit your\n                      account and (B) your bank to debit your account in\n                      accordance with those instructions. You are entitled to a\n                      refund from your bank under the terms and conditions of\n                      your agreement with your bank.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"mt-6 flex flex-col gap-4\">\n                  <Button\n                    className=\"w-full\"\n                    disabled={loading}\n                    size=\"lg\"\n                    type=\"submit\"\n                  >\n                    {loading ? (\n                      <>\n                        <Spinner aria-hidden=\"true\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <BanknoteIcon aria-hidden=\"true\" />\n                        Pay ${total.toFixed(2)} via SEPA\n                      </>\n                    )}\n                  </Button>\n                  <div className=\"flex items-center justify-center gap-2 text-muted-foreground text-xs\">\n                    <ShieldCheckIcon aria-hidden=\"true\" className=\"size-4\" />\n                    <span>\n                      Secured by Stripe. Your payment info is encrypted.\n                    </span>\n                  </div>\n                </div>\n              </Form>\n            </TabsPanel>\n          </Tabs>\n        </CardPanel>\n      </Card>\n\n      <div className=\"flex flex-col gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Order Summary</CardTitle>\n          </CardHeader>\n          <CardPanel>\n            <div className=\"flex flex-col gap-4\">\n              {orderItems.map((item) => (\n                <div className=\"flex items-start justify-between\" key={item.id}>\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-medium text-sm\">{item.name}</span>\n                    <span className=\"text-muted-foreground text-xs\">\n                      Qty: {item.quantity}\n                    </span>\n                  </div>\n                  <span className=\"font-medium text-sm\">\n                    ${(item.price * item.quantity).toFixed(2)}\n                  </span>\n                </div>\n              ))}\n              <Separator />\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground text-sm\">Subtotal</span>\n                <span className=\"text-sm\">${subtotal.toFixed(2)}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-muted-foreground text-sm\">Tax (10%)</span>\n                <span className=\"text-sm\">${tax.toFixed(2)}</span>\n              </div>\n              <Separator />\n              <div className=\"flex items-center justify-between\">\n                <span className=\"font-semibold\">Total</span>\n                <span className=\"font-semibold text-lg\">\n                  ${total.toFixed(2)}\n                </span>\n              </div>\n            </div>\n          </CardPanel>\n        </Card>\n\n        <Card className=\"bg-muted/50\">\n          <CardPanel className=\"py-4\">\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"flex items-center gap-2\">\n                <Badge variant=\"secondary\">\n                  <ShieldCheckIcon aria-hidden=\"true\" className=\"size-3\" />\n                  Secure\n                </Badge>\n                <span className=\"font-medium text-sm\">\n                  256-bit SSL Encryption\n                </span>\n              </div>\n              <p className=\"text-muted-foreground text-xs leading-relaxed\">\n                Your payment information is processed securely. We do not store\n                credit card details nor have access to your credit card\n                information.\n              </p>\n            </div>\n          </CardPanel>\n        </Card>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "className": "**:data-[slot=preview]:w-full"
  },
  "categories": [
    "card",
    "form",
    "input",
    "select",
    "tabs"
  ]
}